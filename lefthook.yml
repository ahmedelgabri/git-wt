pre-commit:
  parallel: true
  commands:
    shellcheck:
      glob: "completions/*.bash"
      run: shellcheck {staged_files}
    govet:
      glob: "**/*.go"
      run: go vet ./...
    treefmt:
      env:
        TERM: dumb
      run: nix fmt -- --fail-on-change

pre-push:
  commands:
    nix-build:
      run: nix build --no-link
