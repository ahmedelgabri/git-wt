pre-commit:
  parallel: true
  commands:
    shellcheck:
      glob: "{git-wt,completions/*.bash}"
      run: shellcheck {staged_files}
    treefmt:
      env:
        TERM: dumb
      run: nix fmt -- --fail-on-change

pre-push:
  commands:
    nix-build:
      run: nix build --no-link
